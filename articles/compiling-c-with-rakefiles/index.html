<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Compiling C with Rakefiles &#8211; Donald Hutchison</title>
<meta name="description" content="Make is solid. It’s been around since before the internet and still one of the most important tools used today. As such - it’s tried, proven, tested, and was used in some of the most successful projects out there.

">
<meta name="keywords" content="ruby, rake, c">



<!-- Twitter Cards -->
<meta name="twitter:title" content="Compiling C with Rakefiles">
<meta name="twitter:description" content="Make is solid. It’s been around since before the internet and still one of the most important tools used today. As such - it’s tried, proven, tested, and was used in some of the most successful projects out there.

">
<meta name="twitter:site" content="@rev_kachowski">
<meta name="twitter:creator" content="@rev_kachowski">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/headers/rake-header.jpg">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Compiling C with Rakefiles">
<meta property="og:description" content="Make is solid. It’s been around since before the internet and still one of the most important tools used today. As such - it’s tried, proven, tested, and was used in some of the most successful projects out there.

">
<meta property="og:url" content="/articles/compiling-c-with-rakefiles/">
<meta property="og:site_name" content="Donald Hutchison">





<link rel="canonical" href="/articles/compiling-c-with-rakefiles/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Donald Hutchison Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="/assets/js/vendor/html5shiv.min.js"></script>
  <script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>



<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		        
		    
		    <li><a href="/" >Home</a></li>
		  
		    
		        
		    
		    <li><a href="/about/" >About</a></li>
		  
		    
		        
		    
		    <li><a href="/projects/" >Projects</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	
		<div class="wrap">
			<a href="/" class="site-logo" rel="home" title="Donald Hutchison"><img src="/images/site-logo.png" width="200" height="200" alt="Donald Hutchison logo" class="animated fadeInDown"></a>
		</div>
	
</header><!-- /.masthead -->


<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    <img src="/images/headers/rake-header.jpg" class="entry-feature-image" alt="Compiling C with Rakefiles" ><p class="image-credit">Image credit: <a href="http://www.somethingawful.com/photoshop-phriday/the-bond-recyclery/7/">somethingawful</a></p>
    <div class="entry-wrapper">
      <header class="entry-header">
        <ul class="entry-tags">
          <li><a href="/tags/#ruby" title="Pages tagged ruby">ruby</a></li><li><a href="/tags/#rake" title="Pages tagged rake">rake</a></li><li><a href="/tags/#c" title="Pages tagged c">c</a></li>
        </ul>
        
          <h1 class="entry-title">Compiling C with Rakefiles</h1>
        
      </header>
      <footer class="entry-meta">
        
        
        
          <img src="/images/portrait.jpg" class="bio-photo" alt="Donald Hutchison bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Donald Hutchison</span></span>
        <span class="entry-date date published"><time datetime="2014-10-19T19:46:40+02:00"><i class="fa fa-calendar-o"></i> October 19, 2014</time></span>
        
        <span class="entry-comments"><i class="fa fa-comment-o"></i> <a href="#disqus_thread">Comment</a></span>
        <span class="social-share-twitter">
  <a href="https://twitter.com/intent/tweet?hashtags=ruby,rake,c&amp;text=Compiling%20C%20with%20Rakefiles&amp;url=/articles/compiling-c-with-rakefiles/&amp;via=rev_kachowski" title="Share on Twitter" itemprop="Twitter"><i class="fa fa-twitter-square"></i> Tweet</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=/articles/compiling-c-with-rakefiles/" title="Share on Facebook" itemprop="Facebook"><i class="fa fa-facebook-square"></i> Like</a>
</span>
<span class="social-share-googleplus">
  <a href="https://plus.google.com/share?url=/articles/compiling-c-with-rakefiles/" title="Share on Google Plus" itemprop="GooglePlus"><i class="fa fa-google-plus-square"></i> +1</a>
</span>
<!-- /.social-share -->
        
      </footer>
      <div class="entry-content">
        <p><a href="https://www.gnu.org/software/make/">Make</a> is solid. It’s been around since before the internet and still one of the most important tools used today. As such - it’s tried, proven, tested, and was used in some of the most successful projects out there.</p>

<p>…but what are the chances that something so old got it right the first time? What are the chances that good old <em>Make</em> is the be-all, end-all, perfect ultimate solution for every possible development project? Of course not, and noone says it is - so let’s try an exercise in frustration and compile some C using <a href="https://github.com/jimweirich/rake">Rake</a> - the cool fresh ruby little brother to big pappy Make.</p>

<h3 id="whats-rake">What’s Rake?</h3>

<blockquote>
  <p>Rake is a Make-like program implemented in Ruby</p>
</blockquote>

<p><em>Rake</em> is Ruby’s version of the <em>Make</em> build system. Created in 2003 by the late Jim Weirich, it’s goal is to get away from the idiosyncratic build system syntax and express build rules in plain Ruby. According to <a href="https://en.wikipedia.org/wiki/Jim_Weirich#Rake">wikipedia</a>, it’s the most downloaded ruby gem of all time and has been bundled with OSX since 2011.</p>

<p>Rake has a diverse set of functions but in my experience it’s primarily used to drive a single command line interface for a ton of unrelated scripts and tools. By invoking your scripts from rake tasks you can create a single unified point of access for both developers and other tools to work with. This is cool for a variety of reasons, e.g. having a Continuous Integration server run the rake task directly gives a build system that is both under version control and available locally. But this is true of many build systems… Where <em>Rake</em> really shines is in it’s incredibly powerful <code>File</code>, <code>Rule</code> and <code>Task</code> functionality.</p>

<p>I was lucky enough to see Jim’s <a href="https://www.youtube.com/watch?v=KaEqZtulOus">Power Rake</a> presentation at the Scottish Ruby Conference in 2012 where he spoke at length about the awesomeness of the <code>pathmap</code> method and the <code>FileList</code> class. Why not use these tools for modern C development? Even though one of the <a href="https://github.com/jimweirich/rake/blob/de564de4e2f189e1b133e4adf05ab8fc820a044b/rake/doc/example/Rakefile1">first examples</a> ever provided was using Rake to compile a basic C program, it still lacks behind <em>Make</em>’s out of the box no-config compilation rules. Let’s see what it takes to get a <em>Rake</em> to walk like a <em>Make</em>.</p>

<h3 id="lets-make-rake-like-make">Let’s Make Rake Like Make</h3>
<p>Even without a Makefile, <em>Make</em> can still work out how to compile and link your C files. Without a Rakefile, <em>Rake</em> is a thing that isn’t useful.</p>

<p>This is because of the huge library of implicit rules and behaviour that <em>Make</em> has collected over it’s lifetime in the battlefield. Type <code>make -p</code> in a directory without a Makefile to list what it already knows before you’ve told it anything. Rake has none of this, so we’ll need to replicate some functionality before we have a contender on our hands.</p>

<h4 id="our-goal">Our Goal</h4>

<p>What we want is the same “no config” approach in Rake that Make has. Given a directory that looks like</p>

<div class="highlight"><pre><code class="language-text" data-lang="text">├── Rakefile
├── foo.c</code></pre></div>

<p>We want to be able to run <code>rake foo</code> and end up with an executable named <code>foo</code>. Additionally we could also run <code>rake foo.o</code> and create the intermediate object file directly.</p>

<h4 id="stealing-makes-implicit-rules">Stealing Make’s Implicit Rules</h4>

<p>The functionality we need to steal from <em>Make</em> to get our basic compilation working is</p>

<ul>
  <li><strong>creating .o files from .c files</strong></li>
  <li><strong>creating executables</strong></li>
  <li><strong>automatically linking object files we depend on</strong></li>
</ul>

<p>We can see from Rake’s <a href="https://github.com/jimweirich/rake/blob/f374191fdeca537c57472bb2b469f4b5faa8ed7f/lib/rake/task_manager.rb#L66">task manager</a> source that a file
task is generated when rake is given an argument which matches an existing file in the pwd. Now that we know this fact, we can add rules that will force arbitrary filenames passed to <em>Rake</em> result in compilation.</p>

<h4 id="creating-o-files-from-c-files">Creating .o Files From .c Files</h4>

<p>The first step will be to compile an object ( <code>.o</code>) file from a corresponding <code>.c</code> file. <em>Make</em> has this defined as <code>$(CC) $(CFLAGS) $(CPPFLAGS) $(TARGET_ARCH) -c</code>, stripping this down and expressing it in <em>Rake</em>’s rule syntax, we get</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">rule</span> <span class="s2">&quot;.o&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;.c&quot;</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
    <span class="sb">`cc -c </span><span class="si">#{</span><span class="n">t</span><span class="o">.</span><span class="n">source</span><span class="si">}</span><span class="sb"> -o </span><span class="si">#{</span><span class="n">t</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="sb">`</span>
<span class="k">end</span></code></pre></div>

<p>The first line basically says “whenever I need a *.o file, I also need an existing .c file with the same name”. Now in our example - when we run <code>rake foo.o</code>, the foo.o will match against the .o section, and then following the rule rake will look for a corresponding <code>foo.c</code> file, find it, and finally execute the block.</p>

<p>Rake passes a <a href="https://github.com/jimweirich/rake/blob/master/lib/rake/task.rb">Task</a> instance into the block, which is populated with a lot of information about the rule we just followed. From this task we take out the source (<code>foo.c</code>) and the output name (<code>foo.o</code>) and then pass them into the compiler via a shell invocation.</p>

<h4 id="create-executable-from-c">Create Executable From .c</h4>

<p>What we want to do here is solve the situation of <code>rake foo</code> and directly create an executable without the intermediate fluff hanging around. This can be done by matching the rule against a regular expression.</p>

<p>Rather awkwardly, we want something that matches against a string <em>without</em> a file extension. To specify that we match against any string would end up creating a circular dependency with the rule above. We can naively match a file extension with the expression <code>/\w*\.\w*/</code> (we’re not going to take multiple dots in filename into account), then we can <a href="http://zijab.blogspot.de/2008/09/finding-opposite-of-regular-expression.html">invert that pattern</a> and get the horrible looking <code>/^((?!\w*\.\w*).)*$/</code>which should match any single word without a file extension attached.</p>

<p>Throwing that into <em>Rake</em> and adding the compilation + linking will give us</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">rule</span> <span class="sr">/^((?!\w*\.\w*).)*$/</span> <span class="o">=&gt;</span> <span class="s2">&quot;.c&quot;</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
    <span class="sb">`cc </span><span class="si">#{</span><span class="n">t</span><span class="o">.</span><span class="n">source</span><span class="si">}</span><span class="sb"> -o </span><span class="si">#{</span><span class="n">t</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="sb">`</span>
<span class="k">end</span></code></pre></div>

<h4 id="linking-from-multiple-files">Linking From Multiple Files</h4>

<p>So far so good. We can now compile very simple C executables with nothing but Ruby. Granted, we need the presence of a Rakefile and some arcane rules to compile everything correctly, but we can compile arbitrary programs nonetheless.</p>

<p>But what if we want to do something non trivial?? With a single line in a Makefile like <code>x: y.o z.o</code> we can compile and link against any number of object files. This makes it  actually useful! How can we go about adding this into <em>Rake</em>?</p>

<p>Pretty easily actually, thanks to the Ruby standard library. As mentioned above, the <code>Task</code> object in <em>Rake</em> contains a lot of useful information, including a list of dependencies for the task. We can extract any object files and then pass them into the call to <code>cc</code> by changing the rule above as follows.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">rule</span> <span class="sr">/^((?!\w*\.\w*).)*$/</span> <span class="o">=&gt;</span> <span class="s2">&quot;.c&quot;</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">prerequisites</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="n">deps</span><span class="o">.</span><span class="n">select</span> <span class="p">{</span> <span class="o">|</span><span class="n">d</span><span class="o">|</span> <span class="n">d</span><span class="o">.</span><span class="n">pathmap</span> <span class="o">==</span> <span class="s2">&quot;.o&quot;</span> <span class="p">}</span>
    <span class="sb">`cc </span><span class="si">#{</span><span class="n">t</span><span class="o">.</span><span class="n">source</span><span class="si">}</span><span class="sb"> </span><span class="si">#{</span><span class="n">objects</span><span class="o">.</span><span class="n">join</span> <span class="s1">&#39; &#39;</span><span class="si">}</span><span class="sb"> -o </span><span class="si">#{</span><span class="n">t</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="sb">`</span>
<span class="k">end</span></code></pre></div>

<p>Now if we add a similar rule to our <em>Rakefile</em> (in our case <code>file 'x' =&gt; ["y.o',"z.o"]</code>) <em>Rake</em> will resolve the dependencies, compiling <code>y.c</code> and <code>z.c</code> into object files before compiling <code>x.c</code> and linking against <code>y.o</code> and <code>z.o</code>. Cool!</p>

<p>Now (after some minor tidying) we have a  very basic <em>Rakefile</em> like this which will let us compile just like we’re using <em>Make</em></p>

<noscript><pre>400: Invalid request
</pre></noscript>
<script src="https://gist.github.com/be91c426b46725c20250.js"> </script>

<h3 id="round-one---fight">Round One - Fight!</h3>

<p>OK, now we have our contender. Let’s throw him in the ring and see how he stands against a pro. Let’s not start small, let’s go all out brave or grave. We’re going to take the <em>Makefile</em> from <a href="http://zedshaw.com/">Zed A. Shaw’s</a> awesome <a href="http://c.learncodethehardway.org/">Learn C The Hard Way</a> series, and see how we can trick out our <em>Rakefile</em> to do the same tasks. Then we’ll decide which solution is more convenient, readable and maintainable.</p>

<p>After following through <em>Learn C The Hard Way</em> you end up with a <em>Makefile</em> that should look like <a href="https://github.com/rkachowski/c-the-hard-way/blob/master/liblcthw/Makefile">this</a>. There’s quite a lot going on here - a lot of tasks and targets with multiple dependencies and outputs. What we are trying to do here is replicate the exact same functionality, all tasks, in our <em>Rakefile</em>. Let’s quickly breakdown what’s going on and see what’s there.</p>

<h4 id="zeds-makefile-contents">Zed’s Makefile contents</h4>

<p>I’m going to give a very brief overview of the cool <em>Rake</em> features that we’re going to use to get the same result as what’s going on in this Makefile.</p>

<h4 id="configuration">Configuration</h4>

<p><em>Make</em> has a lot of variables built into it’s compilation rules, which allows for a very flexible and direct means of passing parameters into the build commands. You can see this is used in the <a href="https://github.com/rkachowski/c-the-hard-way/blob/master/liblcthw/Makefile#L1">first line of the Makefile</a>. Since <em>Rake</em> doesn’t have any of this by default, we’re going to take a simple means of keeping our config in constants, without optional environment overrides.</p>

<h4 id="source-files">Source Files</h4>

<p>In <a href="https://github.com/rkachowski/c-the-hard-way/blob/master/liblcthw/Makefile#L5-9">lines 5-9 of the Makefile</a>, we can see that applicable file lists are being constructed using <em>Make</em>’s built in filesystem functions, <code>wildcard</code> and <code>pathsubst</code>. This is where we can use <em>Rake</em>’s awesome <code>FileList</code> class to construct these collections. In addition, <em>Rake</em> extends the <code>String</code> class with some nice methods that let us interact with standard strings as if they are filepaths. Changing file extensions and getting path components is really easy with this functionality. We’ll use the same approach for the target definitions too.</p>

<h4 id="tasks">Tasks</h4>

<p>Here’s where we start getting into the actual work of the build system. <em>Make</em>’s default task is simply the first declared in the Makefile, <em>Rake</em> has an explicit <code>:default</code> task that can be set to  any desired value. We can set dependencies to have the default task build everything, much like in Zed’s Makefile.</p>

<p>The interesting part comes to when we encounter the programmatic tasks, like the <code>$(PROGRAMS)</code> task on <a href="https://github.com/rkachowski/c-the-hard-way/blob/master/liblcthw/Makefile#L22">line 22</a>. Here the <code>PROGRAMS</code> variable has been set to the contents of the <code>bin</code> directory, but with all suffixes removed - to indicate executable files that need to be created. This is already handled by the rules we made earlier, but the Makefile also modifies the <code>CFLAGS</code> variable to link against the entire built library.</p>

<p>Here we can see that <em>Make</em> has a pretty interesting feature where it exploits a the way it variables, and essentially changes the existing <code>CFLAGS</code> variable <em>within the scope of a certain task.</em> This means that <code>CFLAGS</code> refers to something different for each task, namely it has the built library appended to it for the <code>PROGRAMS</code> and <code>SO_TARGET</code> tasks.</p>

<p class="notice">For more info on how make does this, you can check out <em>Make’s</em> manual in the section <a href="https://www.gnu.org/software/make/manual/make.html#Flavors">Two Flavours of Variable</a></p>

<p>This is another feature we’re going to have to replicate in <em>Rake</em>, and since we are just looking to prove a concept - unfortunately it’s going to be a bit dirty. Instead of the variable replacement functionality, we’ll just add the ability to specify additional <code>CFLAGS</code> for a task. Having task specific options implies a place to store task specific information, so let’s do the bad thing and open up the <code>Task</code> class and add a field to it. In doing this we are tying the abstract concept of a build task to concrete C compiler options - and in a larger project that would be totally inexcusable - but in the context of a single <code>Rakefile</code> let’s just go for it.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">module</span> <span class="nn">Rake</span>
    <span class="k">class</span> <span class="nc">Task</span>
        <span class="kp">attr_accessor</span> <span class="ss">:task_flags</span>
        <span class="k">def</span> <span class="nf">task_flags</span>
            <span class="vi">@task_flags</span> <span class="o">||=</span> <span class="o">[]</span>
            <span class="vi">@task_flags</span>
        <span class="k">end</span>
    <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<h5 id="clean-and-clobber">Clean and Clobber</h5>
<p>Simply by adding the line <code>require 'rake/clean'</code>, we get <code>clean</code> and <code>clobber</code> tasks for free (<code>clobber</code> is <code>clean</code>’s big brother, removing all generated files instead of just intermediate files). This is supported via the addition of two built in <code>FileList</code> instances with the appropriate names. By adding files to this list we can ensure that they’ll be cleaned up with the correct task.</p>

<h5 id="tests">Tests</h5>
<p>By default in <em>Make</em>, every task is a file task. This means that for every task you declare, <em>Make</em> wants to create a file with the same name. If a file with that name already exists, then nothing will happen. In this case we have a “tests” directory and a task with the same name. To override this feature in <em>Make</em> you can add the file to the <code>.PHONY</code> target, which basically means “run this task even if it’s file exists anyway”. In <em>Rake</em> we don’t have such problems, so we can just define standard task’s and skip along our merry way.</p>

<h5 id="valgrind">Valgrind</h5>
<p>One final quirk that we need to address is how <em>Learn C the Hard Way</em> tells it’s test script to run the unit tests under <a href="http://valgrind.org/">Valgrind</a>. From <em>Make</em> we can export variables directly to the environment, whilst with <em>Rake</em> we will need to do this explicitly in our shell invocations. We can use the convenience method we implemented above, and due to the way <a href="http://www.ruby-doc.org/core-2.1.3/Kernel.html#method-i-system">Kernel#system</a> takes an optional hash as the first parameter for environment vars, we can just add our stuff here.</p>

<h3 id="conclusion">Conclusion!</h3>

<p>Awesome! We can now build and link our library using nothing but <em>Rake</em>. Following the steps above, we now have a <a href="https://github.com/rkachowski/c-the-hard-way/blob/master/liblcthw/Rakefile">Rakefile that looks like this</a>, and can do everything our <em>Makefile</em> initially did.</p>

<p>Except uh… we have almost doubled the LOC… we’ve made awful compromises to one of the core classes of <em>Rake</em> itself, and we don’t nearly have the flexibility and control that <em>Make</em> gives us from the get go. It’s pretty clear from this that we are forcing <em>Rake</em> to do something that it’s not totally designed for. Not to mention the dependencies and portablity concerns we’re placing on having Ruby + Rake installed on every target build machine. Were we to take this further we’d ideally have a set of <code>Task</code> / <code>FileTask</code> subclasses to encapsulate any C specific options, and we’d have a set of rules that match <em>Make</em>’s impressive repertoire that we could painlessly import at the top.</p>

<p>It looks like <em>Make</em> is the Apollo Creed to <em>Rake</em>’s Rocky Balboa. <em>Make</em> has ultimately won out in the first instance through technical prowess and experience, but perhaps in a series of unsatisfying followup movies (read: blog posts) <em>Rake</em> will come back to win the world heavyweight build system title. It’s clear that <em>Rake</em> can go the distance once you put in enough effort.</p>

<p><img src="/images/adrian.png" alt="adrian" /></p>


        
          <div id="disqus_thread"></div><!-- /#disqus_thread -->
          
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'donaldhutchisoninfo'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="/articles/how-to-write-bug-reports/" class="btn" title="How to write a bug report">Previous</a>
      
      
        <a href="/anki-rb/" class="btn" title="AnkiRB - spaced repetition flashcards made in ruby">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2016 Donald Hutchison. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/so-simple-jekyll-theme/" rel="nofollow">So Simple Theme</a>.</span>
<div class="social-icons">
	<a href="https://twitter.com/rev_kachowski" title="Donald Hutchison on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
	
	
	<a href="https://linkedin.com/in/https://www.linkedin.com/pub/donald-hutchison/22/a70/16a" title="Donald Hutchison on LinkedIn" target="_blank"><i class="fa fa-linkedin-square fa-2x"></i></a>
	<a href="https://careers.stackoverflow.com/donaldhutchison" title="Donald Hutchison on StackExchange" target="_blank"><i class="fa fa-stack-exchange fa-2x"></i></a>
	
	
	<a href="https://github.com/rkachowski" title="Donald Hutchison on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
  
	
  <a href="/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = '';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
 'https://www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-17488316-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = 'https://stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<script src="/assets/js/subtitle.js"></script>


</body>
</html>
